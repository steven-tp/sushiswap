'use client'

import { Toggle } from '@sushiswap/ui'
import React, { FC, useCallback, useState, useTransition } from 'react'

import { usePoolFilters, useSetPoolFilters } from './PoolsFiltersProvider'

export const TableFiltersFarmsOnly: FC = () => {
  const [isPending, startTransition] = useTransition()
  const { farmsOnly } = usePoolFilters()
  const setFilters = useSetPoolFilters()
  const [checked, setChecked] = useState(farmsOnly)

  const toggle = useCallback(
    (checked: boolean) => {
      setChecked(checked)
      startTransition(() => {
        setFilters((prev) => ({ ...prev, farmsOnly: !prev.farmsOnly }))
      })
    },
    [setFilters],
  )

  return (
    <Toggle
      variant="border"
      onPressedChange={toggle}
      pressed={isPending ? checked : farmsOnly}
      className='!text-base'
    >
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
          <g clip-path="url(#clip0_70_5553)">
          <path d="M14.9143 0.587097H8.91435V1.92043H13.9717L0.247681 15.6444L1.19035 16.5871L14.9143 2.8631V7.92043H16.2477V1.92043C16.2477 1.56681 16.1072 1.22767 15.8572 0.977621C15.6071 0.727573 15.268 0.587097 14.9143 0.587097V0.587097Z" fill="#374957"/>
          <path d="M4.24772 7.2535C4.77514 7.2535 5.29071 7.0971 5.72924 6.80409C6.16777 6.51107 6.50957 6.09459 6.7114 5.60732C6.91323 5.12005 6.96604 4.58388 6.86315 4.06659C6.76025 3.54931 6.50628 3.07416 6.13334 2.70122C5.7604 2.32828 5.28524 2.0743 4.76796 1.97141C4.25068 1.86851 3.7145 1.92132 3.22723 2.12316C2.73996 2.32499 2.32349 2.66678 2.03047 3.10531C1.73745 3.54384 1.58105 4.05942 1.58105 4.58683C1.58105 5.29408 1.86201 5.97235 2.3621 6.47245C2.8622 6.97255 3.54048 7.2535 4.24772 7.2535ZM4.24772 3.2535C4.51143 3.2535 4.76922 3.3317 4.98848 3.47821C5.20775 3.62472 5.37864 3.83295 5.47956 4.07659C5.58048 4.32022 5.60688 4.58831 5.55543 4.84695C5.50399 5.1056 5.377 5.34317 5.19053 5.52964C5.00406 5.71611 4.76648 5.8431 4.50784 5.89455C4.2492 5.94599 3.98111 5.91959 3.73748 5.81867C3.49384 5.71776 3.2856 5.54686 3.1391 5.32759C2.99259 5.10833 2.91439 4.85054 2.91439 4.58683C2.91439 4.23321 3.05486 3.89407 3.30491 3.64402C3.55496 3.39398 3.8941 3.2535 4.24772 3.2535Z" fill="#374957"/>
          <path d="M12.2477 9.92023C11.7203 9.92023 11.2047 10.0766 10.7662 10.3696C10.3277 10.6627 9.98588 11.0791 9.78404 11.5664C9.58221 12.0537 9.5294 12.5899 9.6323 13.1071C9.73519 13.6244 9.98916 14.0996 10.3621 14.4725C10.735 14.8455 11.2102 15.0994 11.7275 15.2023C12.2448 15.3052 12.7809 15.2524 13.2682 15.0506C13.7555 14.8487 14.172 14.5069 14.465 14.0684C14.758 13.6299 14.9144 13.1143 14.9144 12.5869C14.9144 11.8796 14.6334 11.2014 14.1333 10.7013C13.6332 10.2012 12.955 9.92023 12.2477 9.92023ZM12.2477 13.9202C11.984 13.9202 11.7262 13.842 11.507 13.6955C11.2877 13.549 11.1168 13.3408 11.0159 13.0971C10.915 12.8535 10.8886 12.5854 10.94 12.3268C10.9915 12.0681 11.1184 11.8306 11.3049 11.6441C11.4914 11.4576 11.729 11.3306 11.9876 11.2792C12.2462 11.2277 12.5143 11.2541 12.758 11.3551C13.0016 11.456 13.2098 11.6269 13.3563 11.8461C13.5029 12.0654 13.5811 12.3232 13.5811 12.5869C13.5811 12.9405 13.4406 13.2797 13.1905 13.5297C12.9405 13.7798 12.6013 13.9202 12.2477 13.9202Z" fill="#374957"/>
          </g>
          <defs>
          <clipPath id="clip0_70_5553">
          <rect width="16" height="16" fill="white" transform="translate(0.247681 0.587097)"/>
          </clipPath>
          </defs>
        </svg>
      </div>
      <span>Farms only</span>
    </Toggle>
  )
}
